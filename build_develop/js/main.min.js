document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("notificationInfo"),t=document.getElementById("notificationError");document.getElementById("notificationWarning");function s(){o.forEach(e=>{const t=e.nextElementSibling;t&&t.classList.contains("active")&&(t.style.maxHeight=t.scrollHeight+"px")})}const o=document.querySelectorAll("[data-accordion]");o.forEach(e=>{const t=e.nextElementSibling;e.hasAttribute("data-open")&&t?(e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"):t.style.maxHeight="0",e.addEventListener("click",()=>{e.classList.toggle("active"),t&&(t.classList.contains("active")?(t.style.maxHeight="0",t.classList.remove("active")):(t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"))})}),window.addEventListener("resize",()=>{s(),window.innerWidth>767&&($(l).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll"))});const r=document.querySelector(".apply-btn"),a=document.querySelector(".reset-btn"),l=document.querySelector("#filter");r&&r.addEventListener("click",e=>{e.preventDefault();const t=function(){const e={};return l.querySelectorAll(".filter-item").forEach(t=>{const s=t.dataset.key;if(!s)return;t.querySelectorAll("input").forEach(t=>{"radio"===t.type&&t.checked?e[s]=t.value:"checkbox"===t.type&&t.checked?(e[s]=e[s]||[],e[s].push(t.value)):(t.classList.contains("min-value")||t.classList.contains("max-value"))&&(e[s]=e[s]||[],t.classList.contains("min-value")?e[s][0]=t.value:t.classList.contains("max-value")&&(e[s][1]=t.value))})}),e}();console.log("Selected Filters:",t),$(l).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll")}),a&&a.addEventListener("click",e=>{e.preventDefault(),l.reset();const t=document.querySelectorAll(".error");document.querySelectorAll(".invalid").forEach(e=>{e.classList.remove("invalid")}),t.forEach(e=>{e.classList.remove("error")});document.querySelectorAll(".filter-item.range-item").forEach(e=>{n(e)}),console.log("Фільтри скинуті")}),$(".js-filter-btn").on("click",(function(){$(l).addClass("showMobile filterView"),$("body").addClass("noScroll")})),$(".js-close-filter").on("click",(function(){$(l).removeClass("showMobile filterView"),$("body").removeClass("noScroll")})),$(".js-sort-btn").on("click",(function(){$(l).addClass("showMobile sortView"),$("body").addClass("noScroll")})),$(".js-close-sort").on("click",(function(){$(l).removeClass("showMobile sortView"),$("body").removeClass("noScroll")})),$("#loginForm").validate({rules:{login:{required:!0},password:{required:!0,minlength:6}},messages:{login:{required:"Будь ласка, введіть email"},password:{required:"Будь ласка, введіть пароль",minlength:"Пароль має містити мінімум 6 символів"}},errorElement:"p",errorClass:"error",submitHandler:function(e){const t={login:$("input[name='login']").val(),password:$("input[name='password']").val(),remember:$("input[name='remember']").is(":checked")};console.log("Дані, які будуть відправлені:",t),window.location.assign("/")}}),$(".card-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".card-slider-nav"}),$(".card-slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".card-slider",focusOnSelect:!0,arrows:!1}),$(".card-slider").on("click",".slick-slide",(function(){event.preventDefault();const e=[];$(".card-slider .slick-slide").each((function(){const t=$(this),s=t.find("img"),o=t.find("a");o.length?e.push({src:o.attr("href"),type:"iframe"}):s.length&&e.push({src:s.attr("src"),type:"image"})}));const t=$(this).data("slick-index");$.magnificPopup.open({items:e,gallery:{enabled:!0}},t)})),$(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".open-custom-video-modal").magnificPopup({type:"iframe",iframe:{patterns:{custom:{index:"localhost:3000/",src:"%url%"}}},callbacks:{close:function(){const e=$(".mfp-content iframe");e.length&&e.attr("src","")}}});const n=e=>{const t=e.querySelector(".range-slider"),s=t.querySelector(".progress"),o=t.querySelector(".min-value"),r=t.querySelector(".max-value"),a=t.querySelector(".min-input"),l=t.querySelector(".max-input"),n=()=>{const e=parseInt(a.value),t=parseInt(l.value),n=l.max-a.min,i=(t-e)/n*100,c=(e-a.min)/n*100;s.style.width=i+"%",s.style.left=c+"%",o.value=e,r.value=t};let i;const c=e=>{const t=e.target;let s=parseInt(o.value),c=parseInt(r.value);isNaN(s)&&(s=parseInt(o.min)||0,o.value=s),isNaN(c)&&(c=parseInt(r.max)||0,r.value=c),t===o?(clearTimeout(i),i=setTimeout(()=>{c<s&&(c=s,r.value=c),a.value=s,l.value=c,n()},800)):t===r&&(clearTimeout(i),i=setTimeout(()=>{s>c&&(s=c,o.value=s),a.value=s,l.value=c,n()},800)),a.value=s,l.value=c,n()};o.addEventListener("input",c),r.addEventListener("input",c),a.addEventListener("input",()=>{parseInt(a.value)>=parseInt(l.value)&&(l.value=a.value),n()}),l.addEventListener("input",()=>{parseInt(l.value)<=parseInt(a.value)&&(a.value=l.value),n()});let d,u=!1;s.addEventListener("mousedown",e=>{e.preventDefault(),u=!0,d=e.clientX-s.getBoundingClientRect().left,t.classList.toggle("dragging",u)}),document.addEventListener("mousemove",e=>{if(u){const o=t.getBoundingClientRect(),r=parseFloat(s.style.width||0);let i=(e.clientX-o.left-d)/o.width*100;i=Math.min(Math.max(i,0),100-r),s.style.left=i+"%";const c=l.max-a.min,u=Math.round(i/100*c)+parseInt(a.min),m=u+parseInt(l.value)-parseInt(a.value);a.value=u,l.value=m,n()}t.classList.toggle("dragging",u)}),document.addEventListener("mouseup",()=>{u&&(u=!1),t.classList.toggle("dragging",u)}),n()};document.querySelectorAll(".filter-item.range-item").forEach(e=>{n(e)}),document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("keypress",(function(e){8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()}))}),$(".reviewed__slider").slick({slidesToShow:4,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:1280,settings:{arrows:!1,centerMode:!0,slidesToShow:2}},{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,slidesToShow:1}}]}),$(".reviewed__slider-prev").on("click",(function(){$(".reviewed__slider").slick("slickPrev")})),$(".reviewed__slider-next").on("click",(function(){$(".reviewed__slider").slick("slickNext")}));const i=document.querySelector(".main"),c=document.querySelector(".js-search-input"),d=document.querySelector(".js-search-bar"),u=document.querySelector('button[type="submit"]'),m=document.querySelector('.button[type="reset"]'),v=document.querySelector(".search-bar__container"),p=document.querySelector(".selected-values"),h=document.querySelector(".js-selected-values-search-result");function g(e,t){const s=document.createElement("span");return s.classList.add("tag"),s.setAttribute("data-checkbox-id",t),s.innerHTML=e+' <span class="tag__delete --svg__i_cross"></span>',s.querySelector(".tag__delete").addEventListener("click",(function(e){e.stopPropagation();document.querySelectorAll(`[data-checkbox-id="${t}"]`).forEach(e=>{e.remove()});const s=document.getElementById(t);s&&(s.checked=!1)})),s}c&&c.addEventListener("click",(function(e){e.stopPropagation(),d.classList.add("active"),i.classList.add("blur"),$("body").addClass("noScroll")})),d&&(document.addEventListener("click",(function(e){d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),i.classList.remove("blur"),$("body").removeClass("noScroll"))})),document.addEventListener("click",(function(e){if(d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),i.classList.remove("blur"),$("body").removeClass("noScroll")),u.contains(e.target)){e.preventDefault();new FormData(v);const t={};document.querySelectorAll(".search-bar__filter-item").forEach(e=>{const s=e.getAttribute("data-item-name"),o=[];e.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>{const t=e.nextElementSibling;o.push(t.textContent.trim())}),o.length>0&&(t[s]=o)});const s=c.value.trim();s&&(t["search-input"]=s),console.log("sendData: ",t),d.classList.remove("active"),i.classList.remove("blur"),$("body").removeClass("noScroll")}}))),document.addEventListener("change",(function(e){if("checkbox"===e.target.type&&e.target.closest(".js-search-bar")&&"checkbox"===e.target.type){const t=e.target,s=t.nextElementSibling.textContent.trim(),o=t.id;if(t.checked){const e=g(s,o),t=g(s,o);p.prepend(e),h&&h.prepend(t)}else{document.querySelectorAll(`[data-checkbox-id="${o}"]`).forEach(e=>{e.remove()})}}})),m&&m.addEventListener("click",(function(){v.reset();document.querySelectorAll(".tag").forEach(e=>e.remove()),d.classList.remove("active"),i.classList.remove("blur"),$("body").removeClass("noScroll")}));const f=document.querySelectorAll(".js-share-btn");f.forEach(t=>{const s=t.querySelector("img"),o=t.querySelector(".share-menu__list"),r=t.querySelectorAll(".share-menu__list-item");s.addEventListener("click",e=>{e.preventDefault(),f.forEach(e=>{e!==t&&e.querySelector(".share-menu__list").classList.remove("active")}),o.classList.toggle("active")}),r.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault();const a=t.closest(".card"),l=a?`${window.location.origin}/${a.getAttribute("href")}`:window.location.href;switch(s.querySelector(".label").textContent){case"Скопіювати посилання":navigator.clipboard.writeText(l).then(()=>{o.classList.remove("active"),e.classList.add("show"),setTimeout(()=>{e.classList.remove("show")},2e3)}).catch(e=>{console.error("Помилка при копіюванні:",e)}),o.classList.remove("active");break;case"Viber":window.open("viber://forward?text="+l,"_blank");break;case"Telegram":window.open("https://t.me/share/url?url="+l,"_blank");break;case"Facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+l,"_blank");break;default:console.error("Дія для цього варіанту не налаштована.")}o.classList.remove("active")})}),document.addEventListener("click",e=>{e.target.closest(".share-menu")||o.classList.remove("active")})});const y=document.querySelector(".js-show-password"),L=document.querySelector('input[name="password"]');y&&y.addEventListener("click",()=>{y.classList.contains("hidden")?(y.classList.remove("hidden"),y.classList.add("show"),L.type="text"):(y.classList.remove("show"),y.classList.add("hidden"),L.type="password")});const w=document.querySelectorAll(".filter-item.range-field");let b;w.forEach((function(e){const o=e.querySelector(".min-value"),r=e.querySelector(".max-value"),a=e.closest(".filter-item"),l=e.querySelector(".errorText"),n=document.querySelector(".apply-btn");o.addEventListener("input",()=>{let e=parseInt(o.value),i=parseInt(r.value);clearTimeout(b),b=setTimeout(()=>{e>i?(a.classList.add("error"),n.classList.add("invalid"),t.textContent="Мінімальне значення не може бути більшим за максимальне!",t.classList.add("show"),l.textContent="Мінімальне значення не може бути більшим за максимальне!",s(),setTimeout(()=>{t.classList.remove("show")},5e3)):(a.classList.remove("error"),n.classList.remove("invalid"))},800)}),r.addEventListener("input",()=>{let e=parseInt(o.value),i=parseInt(r.value);clearTimeout(b),b=setTimeout(()=>{i<e?(a.classList.add("error"),n.classList.add("invalid"),t.textContent="Максимальне значення не може бути більшим за мінімальне!",l.textContent="Максимальне значення не може бути більшим за мінімальне!",s(),t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},5e3)):(a.classList.remove("error"),n.classList.remove("invalid"))},800)})}))});
//# sourceMappingURL=../sourcemaps/main.min.js.map
