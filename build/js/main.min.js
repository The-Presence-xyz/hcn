document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("notificationInfo"),t=document.getElementById("notificationError");document.getElementById("notificationWarning");function s(){o.forEach(e=>{const t=e.nextElementSibling;t&&t.classList.contains("active")&&(t.style.maxHeight=t.scrollHeight+"px")})}const o=document.querySelectorAll("[data-accordion]");o.forEach(e=>{const t=e.nextElementSibling;e.hasAttribute("data-open")&&t?(e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"):t.style.maxHeight="0",e.addEventListener("click",()=>{e.classList.toggle("active"),t&&(t.classList.contains("active")?(t.style.maxHeight="0",t.classList.remove("active")):(t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"))})}),window.addEventListener("resize",()=>{s(),window.innerWidth>767&&($(a).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll"))});const r=document.querySelector(".apply-btn"),l=document.querySelector(".reset-btn"),a=document.querySelector("#filter");r&&r.addEventListener("click",e=>{e.preventDefault();const t=function(){const e={};return a.querySelectorAll(".filter-item").forEach(t=>{const s=t.dataset.key;if(!s)return;t.querySelectorAll("input").forEach(t=>{"radio"===t.type&&t.checked?e[s]=t.value:"checkbox"===t.type&&t.checked?(e[s]=e[s]||[],e[s].push(t.value)):(t.classList.contains("min-value")||t.classList.contains("max-value"))&&(e[s]=e[s]||[],t.classList.contains("min-value")?e[s][0]=t.value:t.classList.contains("max-value")&&(e[s][1]=t.value))})}),e}();console.log("Selected Filters:",t),$(a).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll")}),l&&l.addEventListener("click",e=>{e.preventDefault(),a.reset();const t=document.querySelectorAll(".error");document.querySelectorAll(".invalid").forEach(e=>{e.classList.remove("invalid")}),t.forEach(e=>{e.classList.remove("error")});document.querySelectorAll(".filter-item.range-item").forEach(e=>{c(e)}),console.log("Фільтри скинуті")}),$(".js-filter-btn").on("click",(function(){$(a).addClass("showMobile filterView"),$("body").addClass("noScroll")})),$(".js-close-filter").on("click",(function(){$(a).removeClass("showMobile filterView"),$("body").removeClass("noScroll")})),$(".js-sort-btn").on("click",(function(){$(a).addClass("showMobile sortView"),$("body").addClass("noScroll")})),$(".js-close-sort").on("click",(function(){$(a).removeClass("showMobile sortView"),$("body").removeClass("noScroll")})),$("#loginForm").validate({rules:{login:{required:!0},password:{required:!0,minlength:6}},messages:{login:{required:"Будь ласка, введіть email"},password:{required:"Будь ласка, введіть пароль",minlength:"Пароль має містити мінімум 6 символів"}},errorElement:"p",errorClass:"error",submitHandler:function(e){const t={login:$("input[name='login']").val(),password:$("input[name='password']").val(),remember:$("input[name='remember']").is(":checked")};console.log("Дані, які будуть відправлені:",t),window.location.assign("/")}}),$(".card-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".card-slider-nav"}),$(".card-slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".card-slider",focusOnSelect:!0,arrows:!1}),$(".card-slider").on("click",".slick-slide",(function(){event.preventDefault();const e=[];$(".card-slider .slick-slide").each((function(){const t=$(this),s=t.find("img"),o=t.find("a");o.length?e.push({src:o.attr("href"),type:"iframe"}):s.length&&e.push({src:s.attr("src"),type:"image"})}));const t=$(this).data("slick-index");$.magnificPopup.open({items:e,gallery:{enabled:!0}},t)})),$(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".open-custom-video-modal").magnificPopup({type:"iframe",iframe:{patterns:{custom:{index:"localhost:3000/",src:"%url%"}}},callbacks:{close:function(){const e=$(".mfp-content iframe");e.length&&e.attr("src","")}}});const c=e=>{const t=e.querySelector(".range-slider"),s=t.querySelector(".progress"),o=t.querySelector(".min-value"),r=t.querySelector(".max-value"),l=t.querySelector(".min-input"),a=t.querySelector(".max-input"),c=()=>{const e=parseInt(l.value),t=parseInt(a.value),c=a.max-l.min,n=(t-e)/c*100,i=(e-l.min)/c*100;s.style.width=n+"%",s.style.left=i+"%",o.value=e,r.value=t};let n;const i=e=>{const t=e.target;let s=parseInt(o.value),i=parseInt(r.value);isNaN(s)&&(s=parseInt(o.min)||0,o.value=s),isNaN(i)&&(i=parseInt(r.max)||0,r.value=i),t===o?(clearTimeout(n),n=setTimeout(()=>{i<s&&(i=s,r.value=i),l.value=s,a.value=i,c()},800)):t===r&&(clearTimeout(n),n=setTimeout(()=>{s>i&&(s=i,o.value=s),l.value=s,a.value=i,c()},800)),l.value=s,a.value=i,c()};o.addEventListener("input",i),r.addEventListener("input",i),l.addEventListener("input",()=>{parseInt(l.value)>=parseInt(a.value)&&(a.value=l.value),c()}),a.addEventListener("input",()=>{parseInt(a.value)<=parseInt(l.value)&&(l.value=a.value),c()});let d,u=!1;s.addEventListener("mousedown",e=>{e.preventDefault(),u=!0,d=e.clientX-s.getBoundingClientRect().left,t.classList.toggle("dragging",u)}),document.addEventListener("mousemove",e=>{if(u){const o=t.getBoundingClientRect(),r=parseFloat(s.style.width||0);let n=(e.clientX-o.left-d)/o.width*100;n=Math.min(Math.max(n,0),100-r),s.style.left=n+"%";const i=a.max-l.min,u=Math.round(n/100*i)+parseInt(l.min),m=u+parseInt(a.value)-parseInt(l.value);l.value=u,a.value=m,c()}t.classList.toggle("dragging",u)}),document.addEventListener("mouseup",()=>{u&&(u=!1),t.classList.toggle("dragging",u)}),c()};document.querySelectorAll(".filter-item.range-item").forEach(e=>{c(e)}),document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("keypress",(function(e){8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()}))}),$(".reviewed__slider").slick({slidesToShow:4,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:1280,settings:{arrows:!1,centerMode:!0,slidesToShow:2}},{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,slidesToShow:1}}]}),$(".reviewed__slider-prev").on("click",(function(){$(".reviewed__slider").slick("slickPrev")})),$(".reviewed__slider-next").on("click",(function(){$(".reviewed__slider").slick("slickNext")}));const n=document.querySelector(".main"),i=document.querySelector(".js-search-input"),d=document.querySelector(".js-search-bar"),u=document.querySelector('button[type="submit"]'),m=document.querySelector('.button[type="reset"]'),v=document.querySelector(".search-bar__container"),p=document.querySelector(".selected-values"),h=document.querySelector(".js-selected-values-search-result");function f(e,t){const s=document.createElement("span");return s.classList.add("tag"),s.setAttribute("data-checkbox-id",t),s.innerHTML=e+' <span class="tag__delete --svg__i_cross"></span>',s.querySelector(".tag__delete").addEventListener("click",(function(e){e.stopPropagation();document.querySelectorAll(`[data-checkbox-id="${t}"]`).forEach(e=>{e.remove()});const s=document.getElementById(t);s&&(s.checked=!1)})),s}i&&i.addEventListener("click",(function(e){e.stopPropagation(),d.classList.add("active"),n.classList.add("blur"),$("body").addClass("noScroll")})),d&&(document.addEventListener("click",(function(e){d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),n.classList.remove("blur"),$("body").removeClass("noScroll"))})),document.addEventListener("click",(function(e){if(d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),n.classList.remove("blur"),$("body").removeClass("noScroll")),u.contains(e.target)){e.preventDefault();new FormData(v);const t={};document.querySelectorAll(".search-bar__filter-item").forEach(e=>{const s=e.getAttribute("data-item-name"),o=[];e.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>{const t=e.nextElementSibling;o.push(t.textContent.trim())}),o.length>0&&(t[s]=o)});const s=i.value.trim();s&&(t["search-input"]=s),console.log("sendData: ",t),d.classList.remove("active"),n.classList.remove("blur"),$("body").removeClass("noScroll")}}))),document.addEventListener("change",(function(e){if("checkbox"===e.target.type&&e.target.closest(".js-search-bar")&&"checkbox"===e.target.type){const t=e.target,s=t.nextElementSibling.textContent.trim(),o=t.id;if(t.checked){const e=f(s,o),t=f(s,o);p.prepend(e),h&&h.prepend(t)}else{document.querySelectorAll(`[data-checkbox-id="${o}"]`).forEach(e=>{e.remove()})}}})),m&&m.addEventListener("click",(function(){v.reset();document.querySelectorAll(".tag").forEach(e=>e.remove()),d.classList.remove("active"),n.classList.remove("blur"),$("body").removeClass("noScroll")}));const g=document.querySelectorAll(".js-share-btn");g.forEach(t=>{const s=t.querySelector("img"),o=t.querySelector(".share-menu__list"),r=t.querySelectorAll(".share-menu__list-item");s.addEventListener("click",e=>{e.preventDefault(),g.forEach(e=>{e!==t&&e.querySelector(".share-menu__list").classList.remove("active")}),o.classList.toggle("active")}),r.forEach(s=>{s.addEventListener("click",r=>{r.preventDefault();const l=t.closest(".card"),a=l?`${window.location.origin}/${l.getAttribute("href")}`:window.location.href;switch(s.querySelector(".label").textContent){case"Скопіювати посилання":navigator.clipboard.writeText(a).then(()=>{o.classList.remove("active"),e.classList.add("show"),setTimeout(()=>{e.classList.remove("show")},2e3)}).catch(e=>{console.error("Помилка при копіюванні:",e)}),o.classList.remove("active");break;case"Viber":window.open("viber://forward?text="+a,"_blank");break;case"Telegram":window.open("https://t.me/share/url?url="+a,"_blank");break;case"Facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+a,"_blank");break;default:console.error("Дія для цього варіанту не налаштована.")}o.classList.remove("active")})}),document.addEventListener("click",e=>{e.target.closest(".share-menu")||o.classList.remove("active")})});const y=document.querySelector(".js-show-password"),L=document.querySelector('input[name="password"]');y&&y.addEventListener("click",()=>{y.classList.contains("hidden")?(y.classList.remove("hidden"),y.classList.add("show"),L.type="text"):(y.classList.remove("show"),y.classList.add("hidden"),L.type="password")});const b=document.querySelectorAll(".filter-item.range-field");let S;b.forEach((function(e){const o=e.querySelector(".min-value"),r=e.querySelector(".max-value"),l=e.closest(".filter-item"),a=e.querySelector(".errorText"),c=document.querySelector(".apply-btn");o.addEventListener("input",()=>{let e=parseInt(o.value),n=parseInt(r.value);clearTimeout(S),S=setTimeout(()=>{e>n?(l.classList.add("error"),c.classList.add("invalid"),t.textContent="Мінімальне значення не може бути більшим за максимальне!",t.classList.add("show"),a.textContent="Мінімальне значення не може бути більшим за максимальне!",s(),setTimeout(()=>{t.classList.remove("show")},5e3)):(l.classList.remove("error"),c.classList.remove("invalid"))},800)}),r.addEventListener("input",()=>{let e=parseInt(o.value),n=parseInt(r.value);clearTimeout(S),S=setTimeout(()=>{n<e?(l.classList.add("error"),c.classList.add("invalid"),t.textContent="Максимальне значення не може бути більшим за мінімальне!",a.textContent="Максимальне значення не може бути більшим за мінімальне!",s(),t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},5e3)):(l.classList.remove("error"),c.classList.remove("invalid"))},800)})}));const w=document.querySelectorAll(".filter-button"),E=document.querySelector(".filter-results"),k=document.querySelector(".close-btn"),q=document.querySelectorAll(".filter-tab"),x=document.querySelectorAll(".result-list");function C(e){q.forEach(e=>e.classList.remove("active")),x.forEach(e=>e.classList.remove("show"));const t=document.querySelector(`.filter-tab[data-type="${e}"]`);t&&(console.log("activeTab: ",t.dataset.type),t.classList.add("active"),E.classList.add("open-"+t.dataset.type));const s=document.querySelector(`.result-list[data-type="${e}"]`);s&&s.classList.add("show")}w.forEach(e=>{e.addEventListener("click",t=>{w.forEach(e=>e.classList.remove("active")),w.forEach(e=>e.blur()),t.stopPropagation(),$("body").addClass("noScroll"),$("html").addClass("noScroll"),E.classList.add("open"),E.classList.remove("open-sell"),E.classList.remove("open-rent"),scrollTo(0,0);const s=e.id;e.classList.add("active"),C(s)})}),k.addEventListener("click",()=>{$("body").removeClass("noScroll"),$("html").removeClass("noScroll"),E.classList.remove("open"),w.forEach(e=>e.classList.remove("active"))}),q.forEach(e=>{e.addEventListener("click",()=>{C(e.getAttribute("data-type"))})}),E.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",e=>{const t=e.target.closest(".filter-buttons");w.forEach(e=>e.classList.remove("active")),w.forEach(e=>e.blur()),!t&&E.classList.contains("open")&&(E.classList.remove("open"),$("body").removeClass("noScroll"),$("html").removeClass("noScroll"))})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
