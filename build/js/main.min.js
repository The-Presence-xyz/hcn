document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("notificationInfo"),t=document.getElementById("notificationError");document.getElementById("notificationWarning");function s(){o.forEach(e=>{const t=e.nextElementSibling;t&&t.classList.contains("active")&&(t.style.maxHeight=t.scrollHeight+"px")})}const o=document.querySelectorAll("[data-accordion]");o.forEach(e=>{const t=e.nextElementSibling;e.hasAttribute("data-open")&&t?(e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"):t.style.maxHeight="0",e.addEventListener("click",()=>{e.classList.toggle("active"),t&&(t.classList.contains("active")?(t.style.maxHeight="0",t.classList.remove("active")):(t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px"))})}),window.addEventListener("resize",()=>{s(),window.innerWidth>767&&($(a).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll"))});const l=document.querySelector(".apply-btn"),r=document.querySelector(".reset-btn"),a=document.querySelector("#filter");l&&l.addEventListener("click",e=>{e.preventDefault();const t=function(){const e={};return a.querySelectorAll(".filter-item").forEach(t=>{const s=t.dataset.key;if(!s)return;t.querySelectorAll("input").forEach(t=>{"radio"===t.type&&t.checked?e[s]=t.value:"checkbox"===t.type&&t.checked?(e[s]=e[s]||[],e[s].push(t.value)):(t.classList.contains("min-value")||t.classList.contains("max-value"))&&(e[s]=e[s]||[],t.classList.contains("min-value")?e[s][0]=t.value:t.classList.contains("max-value")&&(e[s][1]=t.value))})}),e}();console.log("Selected Filters:",t),$(a).removeClass("showMobile filterView sortView"),$("body").removeClass("noScroll")}),r&&r.addEventListener("click",e=>{e.preventDefault(),a.reset();const t=document.querySelectorAll(".error");document.querySelectorAll(".invalid").forEach(e=>{e.classList.remove("invalid")}),t.forEach(e=>{e.classList.remove("error")});document.querySelectorAll(".filter-item.range-item").forEach(e=>{n(e)}),console.log("Фільтри скинуті")}),$(".js-filter-btn").on("click",(function(){$(a).addClass("showMobile filterView"),$("body").addClass("noScroll")})),$(".js-close-filter").on("click",(function(){$(a).removeClass("showMobile filterView"),$("body").removeClass("noScroll")})),$(".js-sort-btn").on("click",(function(){$(a).addClass("showMobile sortView"),$("body").addClass("noScroll")})),$(".js-close-sort").on("click",(function(){$(a).removeClass("showMobile sortView"),$("body").removeClass("noScroll")})),$("#loginForm").validate({rules:{login:{required:!0},password:{required:!0,minlength:6}},messages:{login:{required:"Будь ласка, введіть email"},password:{required:"Будь ласка, введіть пароль",minlength:"Пароль має містити мінімум 6 символів"}},errorElement:"p",errorClass:"error",submitHandler:function(e){const t={login:$("input[name='login']").val(),password:$("input[name='password']").val(),remember:$("input[name='remember']").is(":checked")};console.log("Дані, які будуть відправлені:",t),window.location.assign("/")}}),$(".card-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0,asNavFor:".card-slider-nav"}),$(".card-slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".card-slider",focusOnSelect:!0,arrows:!1}),$(".card-slider").on("click",".slick-slide",(function(){event.preventDefault();const e=[];$(".card-slider .slick-slide").each((function(){const t=$(this),s=t.find("img"),o=t.find("a");o.length?e.push({src:o.attr("href"),type:"iframe"}):s.length&&e.push({src:s.attr("src"),type:"image"})}));const t=$(this).data("slick-index");$.magnificPopup.open({items:e,gallery:{enabled:!0}},t)})),$(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".open-custom-video-modal").magnificPopup({type:"iframe",iframe:{patterns:{custom:{index:"localhost:3000/",src:"%url%"}}},callbacks:{close:function(){const e=$(".mfp-content iframe");e.length&&e.attr("src","")}}});const n=e=>{const t=e.querySelector(".range-slider"),s=t.querySelector(".progress"),o=t.querySelector(".min-value"),l=t.querySelector(".max-value"),r=t.querySelector(".min-input"),a=t.querySelector(".max-input"),n=()=>{const e=parseInt(r.value),t=parseInt(a.value),n=a.max-r.min,c=(t-e)/n*100,i=(e-r.min)/n*100;s.style.width=c+"%",s.style.left=i+"%",o.value=e,l.value=t};let c;const i=e=>{const t=e.target;let s=parseInt(o.value),i=parseInt(l.value);isNaN(s)&&(s=parseInt(o.min)||0,o.value=s),isNaN(i)&&(i=parseInt(l.max)||0,l.value=i),t===o?(clearTimeout(c),c=setTimeout(()=>{i<s&&(i=s,l.value=i),r.value=s,a.value=i,n()},800)):t===l&&(clearTimeout(c),c=setTimeout(()=>{s>i&&(s=i,o.value=s),r.value=s,a.value=i,n()},800)),r.value=s,a.value=i,n()};o.addEventListener("input",i),l.addEventListener("input",i),r.addEventListener("input",()=>{parseInt(r.value)>=parseInt(a.value)&&(a.value=r.value),n()}),a.addEventListener("input",()=>{parseInt(a.value)<=parseInt(r.value)&&(r.value=a.value),n()});let d,u=!1;s.addEventListener("mousedown",e=>{e.preventDefault(),u=!0,d=e.clientX-s.getBoundingClientRect().left,t.classList.toggle("dragging",u)}),document.addEventListener("mousemove",e=>{if(u){const o=t.getBoundingClientRect(),l=parseFloat(s.style.width||0);let c=(e.clientX-o.left-d)/o.width*100;c=Math.min(Math.max(c,0),100-l),s.style.left=c+"%";const i=a.max-r.min,u=Math.round(c/100*i)+parseInt(r.min),m=u+parseInt(a.value)-parseInt(r.value);r.value=u,a.value=m,n()}t.classList.toggle("dragging",u)}),document.addEventListener("mouseup",()=>{u&&(u=!1),t.classList.toggle("dragging",u)}),n()};document.querySelectorAll(".filter-item.range-item").forEach(e=>{n(e)}),document.querySelectorAll('input[type="number"]').forEach(e=>{e.addEventListener("keypress",(function(e){8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()}))}),$(".reviewed__slider").slick({slidesToShow:4,slidesToScroll:1,variableWidth:!0,responsive:[{breakpoint:1280,settings:{arrows:!1,centerMode:!0,slidesToShow:2}},{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,slidesToShow:1}}]}),$(".reviewed__slider-prev").on("click",(function(){$(".reviewed__slider").slick("slickPrev")})),$(".reviewed__slider-next").on("click",(function(){$(".reviewed__slider").slick("slickNext")}));const c=document.querySelector(".main"),i=document.querySelector(".js-search-input"),d=document.querySelector(".js-search-bar"),u=document.querySelector('button[type="submit"]'),m=document.querySelector('.button[type="reset"]'),v=document.querySelector(".search-bar__container"),p=document.querySelector(".selected-values"),h=document.querySelector(".js-selected-values-search-result");function f(e,t){const s=document.createElement("span");return s.classList.add("tag"),s.setAttribute("data-checkbox-id",t),s.innerHTML=e+' <span class="tag__delete --svg__i_cross"></span>',s.querySelector(".tag__delete").addEventListener("click",(function(e){e.stopPropagation();document.querySelectorAll(`[data-checkbox-id="${t}"]`).forEach(e=>{e.remove()});const s=document.getElementById(t);s&&(s.checked=!1)})),s}i&&i.addEventListener("click",(function(e){e.stopPropagation(),d.classList.add("active"),c.classList.add("blur"),$("body").addClass("noScroll")})),d&&(document.addEventListener("click",(function(e){d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),c.classList.remove("blur"),$("body").removeClass("noScroll"))})),document.addEventListener("click",(function(e){if(d.contains(e.target)||e.target.classList.contains("tag__delete")||(d.classList.remove("active"),c.classList.remove("blur"),$("body").removeClass("noScroll")),u.contains(e.target)){e.preventDefault();new FormData(v);const t={};document.querySelectorAll(".search-bar__filter-item").forEach(e=>{const s=e.getAttribute("data-item-name"),o=[];e.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>{const t=e.nextElementSibling;o.push(t.textContent.trim())}),o.length>0&&(t[s]=o)});const s=i.value.trim();s&&(t["search-input"]=s),console.log("sendData: ",t),d.classList.remove("active"),c.classList.remove("blur"),$("body").removeClass("noScroll")}}))),document.addEventListener("change",(function(e){if("checkbox"===e.target.type&&e.target.closest(".js-search-bar")&&"checkbox"===e.target.type){const t=e.target,s=t.nextElementSibling.textContent.trim(),o=t.id;if(t.checked){const e=f(s,o),t=f(s,o);p.prepend(e),h&&h.prepend(t)}else{document.querySelectorAll(`[data-checkbox-id="${o}"]`).forEach(e=>{e.remove()})}}})),m&&m.addEventListener("click",(function(){v.reset();document.querySelectorAll(".tag").forEach(e=>e.remove()),d.classList.remove("active"),c.classList.remove("blur"),$("body").removeClass("noScroll")}));const L=document.querySelectorAll(".js-share-btn");L.forEach(t=>{const s=t.querySelector("img"),o=t.querySelector(".share-menu__list"),l=t.querySelectorAll(".share-menu__list-item");s.addEventListener("click",e=>{e.preventDefault(),L.forEach(e=>{e!==t&&e.querySelector(".share-menu__list").classList.remove("active")}),o.classList.toggle("active")}),l.forEach(s=>{s.addEventListener("click",l=>{l.preventDefault();const r=t.closest(".card"),a=r?`${window.location.origin}/${r.getAttribute("href")}`:window.location.href;switch(s.querySelector(".label").textContent){case"Скопіювати посилання":navigator.clipboard.writeText(a).then(()=>{o.classList.remove("active"),e.classList.add("show"),setTimeout(()=>{e.classList.remove("show")},2e3)}).catch(e=>{console.error("Помилка при копіюванні:",e)}),o.classList.remove("active");break;case"Viber":window.open("viber://forward?text="+a,"_blank");break;case"Telegram":window.open("https://t.me/share/url?url="+a,"_blank");break;case"Facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+a,"_blank");break;default:console.error("Дія для цього варіанту не налаштована.")}o.classList.remove("active")})}),document.addEventListener("click",e=>{e.target.closest(".share-menu")||o.classList.remove("active")})});const g=document.querySelector(".js-show-password"),y=document.querySelector('input[name="password"]');g&&g.addEventListener("click",()=>{g.classList.contains("hidden")?(g.classList.remove("hidden"),g.classList.add("show"),y.type="text"):(g.classList.remove("show"),g.classList.add("hidden"),y.type="password")});const b=document.querySelectorAll(".filter-item.range-field");let w;b.forEach((function(e){const o=e.querySelector(".min-value"),l=e.querySelector(".max-value"),r=e.closest(".filter-item"),a=e.querySelector(".errorText"),n=document.querySelector(".apply-btn");o.addEventListener("input",()=>{let e=parseInt(o.value),c=parseInt(l.value);clearTimeout(w),w=setTimeout(()=>{e>c?(r.classList.add("error"),n.classList.add("invalid"),t.textContent="Мінімальне значення не може бути більшим за максимальне!",t.classList.add("show"),a.textContent="Мінімальне значення не може бути більшим за максимальне!",s(),setTimeout(()=>{t.classList.remove("show")},5e3)):(r.classList.remove("error"),n.classList.remove("invalid"))},800)}),l.addEventListener("input",()=>{let e=parseInt(o.value),c=parseInt(l.value);clearTimeout(w),w=setTimeout(()=>{c<e?(r.classList.add("error"),n.classList.add("invalid"),t.textContent="Максимальне значення не може бути більшим за мінімальне!",a.textContent="Максимальне значення не може бути більшим за мінімальне!",s(),t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},5e3)):(r.classList.remove("error"),n.classList.remove("invalid"))},800)})}));const S=document.querySelectorAll(".filter-button"),E=document.querySelector(".filter-buttons"),k=document.querySelector(".filter-results"),q=document.querySelector(".close-btn"),x=document.querySelectorAll(".filter-tab"),C=document.querySelectorAll(".result-list"),_=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;let T=null,A=null;function I(e){x.forEach(e=>e.classList.remove("active")),C.forEach(e=>e.classList.remove("show"));const t=document.querySelector(`.filter-tab[data-type="${e}"]`);t&&(console.log("activeTab: ",t.dataset.type),t.classList.add("active"),k.classList.remove("open-sell","open-rent"),k.classList.add("open-"+t.dataset.type));const s=document.querySelector(`.result-list[data-type="${e}"]`);s&&s.classList.add("show")}function M(e){T&&(clearTimeout(T),T=null),$("body").addClass("noScroll"),$("html").addClass("noScroll"),k.classList.add("open"),scrollTo(0,0),I(e)}S.forEach(e=>{_?e.addEventListener("click",t=>{t.stopPropagation(),S.forEach(e=>e.classList.remove("active")),S.forEach(e=>e.blur());const s=e.id;e.classList.add("active"),A=s,M(s)}):e.addEventListener("mouseenter",()=>{S.forEach(e=>e.classList.remove("active"));const t=e.id;e.classList.add("active"),A=t,M(t)})}),_||(E.addEventListener("mouseenter",()=>{T&&(clearTimeout(T),T=null)}),E.addEventListener("mouseleave",()=>{T=setTimeout(()=>{k.classList.remove("open"),$("body").removeClass("noScroll"),$("html").removeClass("noScroll"),S.forEach(e=>e.classList.remove("active")),A=null},250)})),_&&window.addEventListener("scroll",()=>{window.scrollY>=300?E.classList.add("showOnMobile"):E.classList.remove("showOnMobile")}),q.addEventListener("click",()=>{T&&(clearTimeout(T),T=null),$("body").removeClass("noScroll"),$("html").removeClass("noScroll"),k.classList.remove("open"),S.forEach(e=>e.classList.remove("active")),A=null}),x.forEach(e=>{e.addEventListener("click",()=>{I(e.getAttribute("data-type"))})}),k.addEventListener("click",e=>{e.stopPropagation()}),document.addEventListener("click",e=>{!e.target.closest(".filter-buttons")&&k.classList.contains("open")&&(T&&(clearTimeout(T),T=null),k.classList.remove("open"),$("body").removeClass("noScroll"),$("html").removeClass("noScroll"),S.forEach(e=>e.classList.remove("active")),A=null)})});
//# sourceMappingURL=../sourcemaps/main.min.js.map
